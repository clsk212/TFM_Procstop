{% extends "base.html" %}

{% block content %}
<section id="settings" style="width: 80%;margin-bottom: 35px;margin-top: 20px;">
    <div class="settings-container centered-container">
        <h2>Configuración del Usuario</h2>
        
        <!-- Two-column form -->
        <form action="{{ url_for('settings') }}" method="post" class="settings-form">
            <div class="form-column">
                <label for="name">Nombre Completo:</label>
                <input type="text" id="name" name="name" value="{{ settings.name }}" required>

                <label for="username">Nombre de Usuario:</label>
                <input type="text" id="username" name="username" value="{{ settings.username }}" required>

                <label for="age">Edad:</label>
                <input type="number" id="age" name="age" value="{{ settings.age }}">

                <label for="gender">Género:</label>
                <select id="gender" name="gender">
                    <option value="masculino" {% if settings.gender == 'masculino' %} selected {% endif %}>Masculino</option>
                    <option value="femenino" {% if settings.gender == 'femenino' %} selected {% endif %}>Femenino</option>
                    <option value="otro" {% if settings.gender == 'otro' %} selected {% endif %}>Otro</option>
                </select>
            </div>
            
            <div class="form-column">
                <label for="country">País:</label>
                <input type="text" id="country" name="country" value="{{ settings.country }}">

                <label for="language">Idioma:</label>
                <select id="language" name="language">
                    <option value="es" {% if settings.language == 'es' %} selected {% endif %}>Español</option>
                    <option value="en" {% if settings.language == 'en' %} selected {% endif %}>English</option>
                </select>

                <!-- Fields to change the password -->
                <label for="password">Nueva Contraseña:</label>
                <input type="password" id="password" name="password">

                <label for="confirm_password">Confirmar Nueva Contraseña:</label>
                <input type="password" id="confirm_password" name="confirm_password">
            </div>
        </form>

        <!-- Horizontal update settings button -->
        <div class="form-actions">
            <form action="{{ url_for('settings') }}" method="post">
                <input type="submit" value="Actualizar Configuraciones" class="btn-update-long">
            </form>
        </div>

        <!-- Buttons in a row to log out, delete data, and delete account -->
        <div class="button-group">
            <form action="{{ url_for('logout') }}" method="post">
                <button type="submit" class="btn-action">Cerrar Sesión</button>
            </form>

            <form action="{{ url_for('delete_user_data') }}" method="post" onsubmit="return confirm('¿Estás seguro de que deseas borrar todos tus datos? Esta acción es irreversible.');">
                <button type="submit" class="btn-action">Borrar Mis Datos</button>
            </form>

            <form action="{{ url_for('delete_user_account') }}" method="post" onsubmit="return confirm('¿Estás seguro de que deseas eliminar tu cuenta? Esto no se puede deshacer.');">
                <button type="submit" class="btn-action btn-delete">Eliminar Cuenta</button>
            </form>
        </div>
    </div>
</section>
{% endblock %}
